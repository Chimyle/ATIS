<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Printer Logs</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
  </head>
  <body class="bg-light">
    <div class="container py-5">
      <h2 class="mb-4">Printer Log</h2>
      <table class="table table-bordered table-hover">
        <thead class="table-dark">
          <tr>
            <th>Date</th>
            <th>Time</th>
            <th>Model</th>
            <th>Printer</th>
            <th>Material ID</th>
            <th>Used (g)</th>
            <th>Duration</th>
            <th>Layer Height</th>
            <th>Nozzle</th>
            <th>Bed</th>
            <th>Chamber</th>
            <th>Status</th>
            <th>Time Claimed</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for log in logs %}
          <tr>
            <td>{{ log.date_started }}</td>
            <td>{{ log.time_started.strftime('%H:%M') }}</td>
            <td>{{ log.model_name }}</td>
            <td>{{ log.printer_name }}</td>
            <td>{{ log.material_id }}</td>
            <td>{{ log.amount_used }}</td>
            <td>{{ log.duration }}</td>
            <td>{{ log.layer_height }}</td>
            <td>{{ log.nozzle_temp }}</td>
            <td>{{ log.bed_temp }}</td>
            <td>{{ log.chamber_temp or '-' }}</td>
            <td>{{ log.status }}</td>
            <td>{{ log.time_claimed or '-' }}</td>
            <td>
              {% if log.status == 'Pending' %}
              <a
                href="{{ url_for('update_status', log_id=log.id, status='Done') }}"
                class="btn btn-success btn-sm"
                >Done</a
              >
              <a
                href="{{ url_for('update_status', log_id=log.id, status='Fail') }}"
                class="btn btn-danger btn-sm"
                >Fail</a
              >
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <a
        href="/"
        class="btn btn-secondary"
        >Back to Home</a
      >
    </div>
  </body>
</html>
